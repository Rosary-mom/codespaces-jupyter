name: Run Q-Simulation

on:
  push:
    branches: [ main ]  # Triggt bei jedem Push auf main

jobs:
  build:
    runs-on: ubuntu-latest  # Linux-VM für die Ausführung

    steps:
    - name: Checkout code
      uses: actions/checkout@v4  # Holt dein Repo

    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.12'  # Deine Version aus dem Screenshot

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install qutip numpy matplotlib  # Füge bei Bedarf mehr hinzu (z. B. qutip-qip, falls du den importierten CNOT brauchst)

    - name: Run the simulation
      run: python Q-Simulation_verkehr.py  # Führt deinen Code aus – Ausgaben landen in den Logs

    - name: Upload Bloch sphere image
      uses: actions/upload-artifact@v4
      with:
        name: bloch-verkehr
        path: bloch_verkehr.png  # Speichert das PNG als Artifact (kannst herunterladen)
